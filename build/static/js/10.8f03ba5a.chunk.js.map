{"version":3,"sources":["components/HeaderSkew/HeaderSkew.tsx","components/HeaderSkew/index.ts","containers/ExercisePackage/ExercisePackage.enums.ts","containers/ExercisePackageDetail/ExercisePackageDetail.tsx","containers/ExercisePackageDetail/index.ts"],"names":["HeaderSkew","className","center","title","onClick","classNames","ETypeExercisePackage","ExercisePackageDetail","type","onBack","id","useParams","dispatch","useDispatch","isPackExercisePage","EXERCISE","isPackPtOnlinePage","PT_ONLINE","mainTitle","authState","useSelector","state","authReducer","user","packExerciseState","packExerciseReducer","packExercise","packPtOnlineState","packPtOnlineReducer","packPtOnline","packState","getPackExerciseLoading","loadingReducer","EPackExerciseControllerAction","GET_PACK_EXERCISE","buyPackExerciseLoading","BUY_PACK_EXERCISE","buyPackPtOnlineLoading","EPackPtOnlineControllerAction","BUY_PACK_PT_ONLINE","loading","useState","visible","failedPaymentModalState","setFailedPaymentModalState","confirmMealPackageModalState","setConfirmMealPackageModalState","paymentModalState","setPaymentModalState","handleCloseConfirmMealPackageModal","handleBuyPackExerciseSuccess","handleBuyPackExerciseFailed","handleOpenFailedPaymentModal","handleSubmit","navigate","LayoutPaths","Admin","Paths","MealSchedule","handleCloseFailedPaymentModal","useEffect","getPackExerciseAction","request","getPackPtOnlineAction","PageLoading","Icon","name","EIconName","AngleRight","color","EIconColor","ELECTRIC_VIOLET","src","image","onError","handleErrorImageUrl","alt","formatMoneyVND","amount","price","showSuffix","Boolean","prePrice","description","Button","Modal","confirmButton","buyPackExerciseAction","packExerciseId","buyPackPtOnlineAction","cancelButton","disabled","onClose","style","marginBottom","Profile","Wallet","money","MealPackageDetail"],"mappings":"4KAqBeA,EAdgC,SAAC,GAA2C,IAAzCC,EAAwC,EAAxCA,UAAWC,EAA6B,EAA7BA,OAAQC,EAAqB,EAArBA,MAAOC,EAAc,EAAdA,QAC1E,OACE,qBACEH,UAAWI,IAAW,kBAAmBJ,EAAW,CAAE,iBAAkBC,GAAU,CAAE,iBAAkBE,IACtGA,QAASA,EAFX,SAIE,sBAAKH,UAAU,kBAAf,UACE,qBAAKA,UAAU,mBAAf,SAAmCE,IACnC,qBAAKF,UAAU,sBAAf,iCCZOD,O,uDCHR,IAAKM,EAAZ,kC,SAAYA,K,oBAAAA,E,uBAAAA,M,mLCmPGC,EA3NsD,SAAC,GAAsB,IAApBC,EAAmB,EAAnBA,KAAMC,EAAa,EAAbA,OACpEC,EAAOC,cAAPD,GACFE,EAAWC,cAEXC,EAAqBN,IAASF,IAAqBS,SACnDC,EAAqBR,IAASF,IAAqBW,UAEnDC,EAAYJ,EAAqB,WAAQ,YAEzCK,EAAYC,aAAY,SAACC,GAAD,OAAuBA,EAAMC,YAAYC,QAEjEC,EAAoBJ,aAAY,SAACC,GAAD,OAAuBA,EAAMI,oBAAoBC,gBACjFC,EAAoBP,aAAY,SAACC,GAAD,OAAuBA,EAAMO,oBAAoBC,gBAEjFC,EAAiBhB,EAAqBU,EAAoBG,EAE1DI,EAAyBX,aAC7B,SAACC,GAAD,OAAuBA,EAAMW,eAAeC,IAA8BC,sBAEtEC,EAAyBf,aAC7B,SAACC,GAAD,OAAuBA,EAAMW,eAAeC,IAA8BG,sBAEtEC,EAAyBjB,aAC7B,SAACC,GAAD,OAAuBA,EAAMW,eAAeM,IAA8BC,uBAGtEC,EAAUL,GAA0BE,EAE1C,EAA8DI,mBAE3D,CACDC,SAAS,IAHX,mBAAOC,EAAP,KAAgCC,EAAhC,KAMA,EAAwEH,mBAErE,CACDC,SAAS,IAHX,mBAAOG,EAAP,KAAqCC,EAArC,KAMA,EAAkDL,mBAE/C,CACDC,SAAS,IAHX,mBAAOK,EAAP,KAA0BC,EAA1B,KAYMC,EAAqC,WACzCH,EAAgC,CAC9BJ,SAAS,KAgCPQ,EAA+B,WACnCD,IA5BAD,EAAqB,CACnBN,SAAS,KA+BPS,EAA8B,WAClCF,IACAG,KAGIC,EAAe,WA/BnBL,EAAqB,CACnBN,SAAS,IAgCXY,YAAS,GAAD,OAAIC,IAAYC,OAAhB,OAAwBC,IAAMC,gBAGlCN,EAA+B,WACnCR,EAA2B,CAAEF,SAAS,KAElCiB,EAAgC,WACpCf,EAA2B,CAAEF,SAAS,KAexC,OARAkB,qBAAU,WACJlD,IACEI,GAAoBF,EAASiD,IAAsBC,QAAQpD,IAC3DM,GAAoBJ,EAASmD,IAAsBD,QAAQpD,OAGhE,CAACE,EAAUF,IAGZ,sBAAKT,UAAU,wBAAf,UACG8B,EACC,cAACiC,EAAA,EAAD,IAEA,qCACGvD,GACC,sBAAKR,UAAU,+CAA+CG,QAASK,EAAvE,UACE,cAACwD,EAAA,EAAD,CAAMC,KAAMC,IAAUC,WAAYC,MAAOC,IAAWC,kBADtD,mBAKF,qBAAKtE,UAAU,8BAAf,iCACA,qBAAKA,UAAU,8BAAf,SACE,qBAAKuE,IAAG,OAAE1C,QAAF,IAAEA,OAAF,EAAEA,EAAW2C,MAAOC,QAASC,IAAqBC,IAAI,OAGhE,sBAAK3E,UAAU,+BAAf,UACE,qBAAKA,UAAU,6BAAf,UAAsD,OAAT6B,QAAS,IAATA,OAAA,EAAAA,EAAW3B,SAAX,OAAoB2B,QAApB,IAAoBA,OAApB,EAAoBA,EAAWoC,QAC5E,sBAAKjE,UAAU,8BAAf,UACE,+BAAO4E,YAAe,CAAEC,QAAiB,OAAThD,QAAS,IAATA,OAAA,EAAAA,EAAWiD,QAAS,EAAGC,YAAY,MAAgB,IAClFC,QAAO,OAACnD,QAAD,IAACA,OAAD,EAACA,EAAWoD,WAClB,qBAAKjF,UAAU,kCAAf,SACG4E,YAAe,CAAEC,QAAiB,OAAThD,QAAS,IAATA,OAAA,EAAAA,EAAWoD,WAAY,EAAGF,YAAY,YAMxE,qBAAK/E,UAAU,iCAAf,iCACA,qBAAKA,UAAU,oCAAf,gBAAoD6B,QAApD,IAAoDA,OAApD,EAAoDA,EAAWqD,cAE/D,sBAAKlF,UAAU,2DAAf,UACE,sBAAKA,UAAU,sEAAf,UACE,mDACA,iCACE,iCAAS4E,YAAe,CAAEC,QAAiB,OAAThD,QAAS,IAATA,OAAA,EAAAA,EAAWiD,QAAS,EAAGC,YAAY,MAAkB,IACtFC,QAAO,OAACnD,QAAD,IAACA,OAAD,EAACA,EAAWoD,WAClB,qBAAKjF,UAAU,kCAAf,SACG4E,YAAe,CAAEC,QAAiB,OAAThD,QAAS,IAATA,OAAA,EAAAA,EAAWoD,WAAY,EAAGF,YAAY,YAKxE,qBAAK/E,UAAU,oCAAf,SACE,cAACmF,EAAA,EAAD,CAAQjF,MAAM,WAAWK,KAAK,UAAUJ,QAvHV,WACxC0C,EAAgC,CAC9BJ,SAAS,eA2HT,eAAC2C,EAAA,EAAD,2BACMxC,GADN,IAEEyC,cAAe,CACbnF,MAAO,sBACPC,QAzGoC,WACtCU,GACFF,EACE2E,IAAsBzB,QACpB,CAAE0B,eAAgB9E,GAClBwC,EACAC,IAKFnC,GACFJ,EAAS6E,IAAsB3B,QAAQpD,EAAIwC,EAA8BC,KA8FrEX,WAEFkD,aAAc,CACZvF,MAAO,mBACPC,QAAS6C,EACT0C,SAAUnD,GAEZoD,QAAS3C,EAZX,UAcE,qBAAKhD,UAAU,mBAAmB4F,MAAO,CAAEC,aAAc,QAAzD,4CAGA,sBAAK7F,UAAU,sBAAsB4F,MAAO,CAAEC,aAAc,SAA5D,WACY,OAAThE,QAAS,IAATA,OAAA,EAAAA,EAAW3B,SAAX,OAAoB2B,QAApB,IAAoBA,OAApB,EAAoBA,EAAWoC,MADlC,IACyC,IACvC,iCAASW,YAAe,CAAEC,QAAiB,OAAThD,QAAS,IAATA,OAAA,EAAAA,EAAWiD,QAAS,EAAGC,YAAY,SAEvE,qBAAK/E,UAAU,kBAAf,yDAGF,eAACoF,EAAA,EAAD,2BAAWtC,GAAX,IAA8BuC,cAAe,CAAEnF,MAAO,sBAAUC,QAASiD,GAAgBuC,QAASvC,EAAlG,UACE,qBAAKpD,UAAU,mBAAmB4F,MAAO,CAAEC,aAAc,UAAzD,4CAGA,sBAAK7F,UAAU,yBAAf,4CAAwDiB,EAAxD,2BAGF,eAACmE,EAAA,EAAD,2BACM1C,GADN,IAEEiD,QAASjC,EACT2B,cAAe,CAAEnF,MAAO,mBAAYC,QAlGH,WACrCuD,IACAL,YAAS,GAAD,OAAIC,IAAYwC,SAAhB,OAA0BtC,IAAMuC,WAiGpCN,aAAc,CAAEvF,MAAO,mBAAUC,QAASuD,GAJ5C,UAME,sBAAK1D,UAAU,sBAAsB4F,MAAO,CAAEC,aAAc,UAA5D,gDACiB,iCAASjB,YAAe,CAAEC,QAAiB,OAAT3D,QAAS,IAATA,OAAA,EAAAA,EAAW8E,QAAS,EAAGjB,YAAY,SAEtF,sBAAK/E,UAAU,yBAAf,6GAC+CiB,EAD/C,iDCzOOgF,O","file":"static/js/10.8f03ba5a.chunk.js","sourcesContent":["import React from 'react';\nimport classNames from 'classnames';\n\nimport { THeaderSkewProps } from '@/components/HeaderSkew/HeaderSkew.types';\n\nimport './HeaderSkew.scss';\n\nconst HeaderSkew: React.FC<THeaderSkewProps> = ({ className, center, title, onClick }) => {\n  return (\n    <div\n      className={classNames('HeaderSkew flex', className, { 'justify-center': center }, { 'cursor-pointer': onClick })}\n      onClick={onClick}\n    >\n      <div className=\"HeaderSkew-item\">\n        <div className=\"HeaderSkew-title\">{title}</div>\n        <div className=\"HeaderSkew-subtitle\">VNSUPPLEMENTS</div>\n      </div>\n    </div>\n  );\n};\n\nexport default HeaderSkew;\n","import HeaderSkew from './HeaderSkew';\n\nexport * from './HeaderSkew.types';\nexport default HeaderSkew;\n","export enum ETypeExercisePackage {\n  EXERCISE = 'EXERCISE',\n  PT_ONLINE = 'PT_ONLINE',\n}\n","import React, { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { navigate, useParams } from '@reach/router';\n\nimport Button from '@/components/Button';\nimport Modal from '@/components/Modal';\nimport Icon, { EIconName, EIconColor } from '@/components/Icon';\nimport {\n  buyPackExerciseAction,\n  buyPackPtOnlineAction,\n  getPackExerciseAction,\n  getPackPtOnlineAction,\n} from '@/redux/actions';\nimport { TRootState } from '@/redux/reducers';\nimport { EPackExerciseControllerAction } from '@/redux/actions/pack-exercise-controller/constants';\nimport PageLoading from '@/components/PageLoading';\nimport { formatMoneyVND, handleErrorImageUrl } from '@/utils/functions';\nimport { LayoutPaths, Paths } from '@/pages/routers';\nimport { ETypeExercisePackage } from '@/containers/ExercisePackage/ExercisePackage.enums';\nimport { EPackPtOnlineControllerAction } from '@/redux/actions/pack-pt-online-controller/constants';\n\nimport { TExercisePackageDetailProps } from './ExercisePackageDetail.types';\nimport './ExercisePackageDetail.scss';\n\nconst ExercisePackageDetail: React.FC<TExercisePackageDetailProps> = ({ type, onBack }) => {\n  const { id } = useParams();\n  const dispatch = useDispatch();\n\n  const isPackExercisePage = type === ETypeExercisePackage.EXERCISE;\n  const isPackPtOnlinePage = type === ETypeExercisePackage.PT_ONLINE;\n\n  const mainTitle = isPackExercisePage ? 'tập' : 'Pt Online';\n\n  const authState = useSelector((state: TRootState) => state.authReducer.user);\n\n  const packExerciseState = useSelector((state: TRootState) => state.packExerciseReducer.packExercise);\n  const packPtOnlineState = useSelector((state: TRootState) => state.packPtOnlineReducer.packPtOnline);\n\n  const packState: any = isPackExercisePage ? packExerciseState : packPtOnlineState;\n\n  const getPackExerciseLoading = useSelector(\n    (state: TRootState) => state.loadingReducer[EPackExerciseControllerAction.GET_PACK_EXERCISE],\n  );\n  const buyPackExerciseLoading = useSelector(\n    (state: TRootState) => state.loadingReducer[EPackExerciseControllerAction.BUY_PACK_EXERCISE],\n  );\n  const buyPackPtOnlineLoading = useSelector(\n    (state: TRootState) => state.loadingReducer[EPackPtOnlineControllerAction.BUY_PACK_PT_ONLINE],\n  );\n\n  const loading = buyPackExerciseLoading || buyPackPtOnlineLoading;\n\n  const [failedPaymentModalState, setFailedPaymentModalState] = useState<{\n    visible: boolean;\n  }>({\n    visible: false,\n  });\n\n  const [confirmMealPackageModalState, setConfirmMealPackageModalState] = useState<{\n    visible: boolean;\n  }>({\n    visible: false,\n  });\n\n  const [paymentModalState, setPaymentModalState] = useState<{\n    visible: boolean;\n  }>({\n    visible: false,\n  });\n\n  const handleOpenConfirmMealPackageModal = (): void => {\n    setConfirmMealPackageModalState({\n      visible: true,\n    });\n  };\n\n  const handleCloseConfirmMealPackageModal = (): void => {\n    setConfirmMealPackageModalState({\n      visible: false,\n    });\n  };\n\n  const handleOpenPaymentModal = (): void => {\n    setPaymentModalState({\n      visible: true,\n    });\n  };\n\n  const handleClosePaymentModal = (): void => {\n    setPaymentModalState({\n      visible: false,\n    });\n  };\n\n  const handleConfirmMealPackageModalSubmit = (): void => {\n    if (isPackExercisePage) {\n      dispatch(\n        buyPackExerciseAction.request(\n          { packExerciseId: id },\n          handleBuyPackExerciseSuccess,\n          handleBuyPackExerciseFailed,\n        ),\n      );\n    }\n\n    if (isPackPtOnlinePage) {\n      dispatch(buyPackPtOnlineAction.request(id, handleBuyPackExerciseSuccess, handleBuyPackExerciseFailed));\n    }\n  };\n\n  const handleBuyPackExerciseSuccess = (): void => {\n    handleCloseConfirmMealPackageModal();\n    handleOpenPaymentModal();\n  };\n\n  const handleBuyPackExerciseFailed = (): void => {\n    handleCloseConfirmMealPackageModal();\n    handleOpenFailedPaymentModal();\n  };\n\n  const handleSubmit = (): void => {\n    handleClosePaymentModal();\n    navigate(`${LayoutPaths.Admin}${Paths.MealSchedule}`);\n  };\n\n  const handleOpenFailedPaymentModal = (): void => {\n    setFailedPaymentModalState({ visible: true });\n  };\n  const handleCloseFailedPaymentModal = (): void => {\n    setFailedPaymentModalState({ visible: false });\n  };\n  const handleSubmitFailedPaymentModal = (): void => {\n    handleCloseFailedPaymentModal();\n    navigate(`${LayoutPaths.Profile}${Paths.Wallet}`);\n  };\n\n  useEffect(() => {\n    if (id) {\n      if (isPackExercisePage) dispatch(getPackExerciseAction.request(id));\n      if (isPackPtOnlinePage) dispatch(getPackPtOnlineAction.request(id));\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [dispatch, id]);\n\n  return (\n    <div className=\"ExercisePackageDetail\">\n      {getPackExerciseLoading ? (\n        <PageLoading />\n      ) : (\n        <>\n          {onBack && (\n            <div className=\"ExercisePackageDetail-back flex items-center\" onClick={onBack}>\n              <Icon name={EIconName.AngleRight} color={EIconColor.ELECTRIC_VIOLET} />\n              Quay lại\n            </div>\n          )}\n          <div className=\"ExercisePackageDetail-title\">Thông tin gói</div>\n          <div className=\"ExercisePackageDetail-image\">\n            <img src={packState?.image} onError={handleErrorImageUrl} alt=\"\" />\n          </div>\n\n          <div className=\"ExercisePackageDetail-header\">\n            <div className=\"ExercisePackageDetail-name\">{packState?.title || packState?.name}</div>\n            <div className=\"ExercisePackageDetail-price\">\n              <span>{formatMoneyVND({ amount: packState?.price || 0, showSuffix: true })}</span>{' '}\n              {Boolean(packState?.prePrice) && (\n                <del className=\"ExercisePackageDetail-pre-price\">\n                  {formatMoneyVND({ amount: packState?.prePrice || 0, showSuffix: true })}\n                </del>\n              )}\n            </div>\n          </div>\n\n          <div className=\"ExercisePackageDetail-subtitle\">Thông tin gói</div>\n          <div className=\"ExercisePackageDetail-description\">{packState?.description}</div>\n\n          <div className=\"ExercisePackageDetail-action flex items-center flex-wrap\">\n            <div className=\"ExercisePackageDetail-action-item flex justify-between items-center\">\n              <span>Mức giá</span>\n              <span>\n                <strong>{formatMoneyVND({ amount: packState?.price || 0, showSuffix: true })}</strong>{' '}\n                {Boolean(packState?.prePrice) && (\n                  <del className=\"ExercisePackageDetail-pre-price\">\n                    {formatMoneyVND({ amount: packState?.prePrice || 0, showSuffix: true })}\n                  </del>\n                )}\n              </span>\n            </div>\n            <div className=\"ExercisePackageDetail-action-item\">\n              <Button title=\"Mua Ngay\" type=\"primary\" onClick={handleOpenConfirmMealPackageModal} />\n            </div>\n          </div>\n        </>\n      )}\n\n      <Modal\n        {...confirmMealPackageModalState}\n        confirmButton={{\n          title: 'Đồng ý',\n          onClick: handleConfirmMealPackageModalSubmit,\n          loading,\n        }}\n        cancelButton={{\n          title: 'Huỷ bỏ',\n          onClick: handleCloseConfirmMealPackageModal,\n          disabled: loading,\n        }}\n        onClose={handleCloseConfirmMealPackageModal}\n      >\n        <div className=\"Modal-body-title\" style={{ marginBottom: '1rem' }}>\n          Xác nhận thanh toán\n        </div>\n        <div className=\"Modal-body-subtitle\" style={{ marginBottom: '.5rem' }}>\n          {packState?.title || packState?.name}:{' '}\n          <strong>{formatMoneyVND({ amount: packState?.price || 0, showSuffix: true })}</strong>\n        </div>\n        <div className=\"Modal-body-link\">Thanh toán qua ví của tôi</div>\n      </Modal>\n\n      <Modal {...paymentModalState} confirmButton={{ title: 'Đồng ý', onClick: handleSubmit }} onClose={handleSubmit}>\n        <div className=\"Modal-body-title\" style={{ marginBottom: '1.5rem' }}>\n          Thanh toán thành công\n        </div>\n        <div className=\"Modal-body-description\">Bạn đã mua gói {mainTitle} thành công</div>\n      </Modal>\n\n      <Modal\n        {...failedPaymentModalState}\n        onClose={handleCloseFailedPaymentModal}\n        confirmButton={{ title: 'Nạp thêm', onClick: handleSubmitFailedPaymentModal }}\n        cancelButton={{ title: 'Huỷ bỏ', onClick: handleCloseFailedPaymentModal }}\n      >\n        <div className=\"Modal-body-subtitle\" style={{ marginBottom: '1.5rem' }}>\n          Số dư của bạn: <strong>{formatMoneyVND({ amount: authState?.money || 0, showSuffix: true })}</strong>\n        </div>\n        <div className=\"Modal-body-description\">\n          Số dư ví của bạn không đủ để thanh toán gói {mainTitle}. Xin vui lòng nạp thêm!\n        </div>\n      </Modal>\n    </div>\n  );\n};\n\nexport default ExercisePackageDetail;\n","import MealPackageDetail from './ExercisePackageDetail';\n\nexport default MealPackageDetail;\n"],"sourceRoot":""}
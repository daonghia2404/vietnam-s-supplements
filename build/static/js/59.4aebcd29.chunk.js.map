{"version":3,"sources":["pages/Handbooks/Handbooks.tsx","pages/Handbooks/index.ts"],"names":["Handbooks","dispatch","useDispatch","useState","page","DEFAULT_PAGE","pageSize","DEFAULT_PAGE_SIZE","getHandbooksParamsRequest","setGetHandbooksParamsRequest","handbooks","useSelector","state","handbookReducer","handbooksTotal","total","isEmpty","records","length","handbooksCarouselData","splice","map","item","id","String","title","image","description","shareUrl","Paths","HandbookDetail","getHandbooksLoading","loadingReducer","EHandbookControllerAction","GET_HANDBOOKS","getHandbooksData","useCallback","getHandbooksAction","request","useEffect","scrollToTop","className","PageLoading","HeaderSkew","NewsCarousel","type","ENewsCarouselType","HANDBOOKS","data","EmptyBox","NewBlock","url","Pagination","onChange"],"mappings":"0SAwGeA,EApFa,WAAO,IAAD,QAC1BC,EAAWC,cACjB,EAAkEC,mBAA8B,CAC9FC,KAAMC,IACNC,SAAUC,MAFZ,mBAAOC,EAAP,KAAkCC,EAAlC,KAIMC,EAAYC,aAAY,SAACC,GAAD,OAAuBA,EAAMC,gBAAgBH,aACrEI,EAAiBH,aAAY,SAACC,GAAD,uBAAuBA,EAAMC,gBAAgBH,iBAA7C,aAAuB,EAAiCK,SACrFC,EAAyC,KAAtB,OAATN,QAAS,IAATA,GAAA,UAAAA,EAAWO,eAAX,eAAoBC,QAE9BC,EAAqB,uBAAiB,OAATT,QAAS,IAATA,OAAA,EAAAA,EAAWO,UAAW,WAA9B,iBAAG,EAAiCG,OAAO,EAAG,UAA9C,aAAG,EAA+CC,KAAI,SAACC,GAAD,MAAW,CAC1FC,GAAIC,OAAOF,EAAKC,IAChBE,MAAOH,EAAKG,MACZC,MAAOJ,EAAKI,MACZC,YAAaL,EAAKK,YAClBC,SAAS,GAAD,OAAKC,IAAMC,eAAeN,OAAOF,EAAKC,UAG1CQ,EAAsBpB,aAC1B,SAACC,GAAD,OAAuBA,EAAMoB,eAAeC,IAA0BC,kBAWlEC,EAAmBC,uBAAY,WACnCnC,EAASoC,IAAmBC,QAAQ9B,MACnC,CAACP,EAAUO,IAUd,OARA+B,qBAAU,WACRJ,MACC,CAACA,IAEJI,qBAAU,WACRC,gBACC,IAGD,qBAAKC,UAAU,YAAf,SACGV,EACC,cAACW,EAAA,EAAD,IAEA,sBAAKD,UAAU,oBAAf,UACE,cAACE,EAAA,EAAD,CAAYlB,MAAM,mBAEhBT,GAAW,cAAC4B,EAAA,EAAD,CAAcC,KAAMC,IAAkBC,UAAWC,KAAM7B,IAEpE,qBAAKsB,UAAU,kBAAf,2BACCzB,EACC,cAACiC,EAAA,EAAD,CAAUxB,MAAM,mDAEhB,qBAAKgB,UAAU,gCAAf,gBACG/B,QADH,IACGA,GADH,UACGA,EAAWO,eADd,aACG,EAAoBI,KAAI,SAACC,GAAD,OACvB,qBAAmBmB,UAAU,sBAA7B,SACE,cAACS,EAAA,EAAD,CACExB,MAAOJ,EAAKI,MACZD,MAAOH,EAAKG,MACZE,YAAaL,EAAKK,YAClBwB,IAAKtB,IAAMC,eAAeN,OAAOF,EAAKC,QALhCD,EAAKC,SAYrB,qBAAKkB,UAAU,2CAAf,SACE,cAACW,EAAA,EAAD,CACEhD,KAAMI,EAA0BJ,KAChCE,SAAUE,EAA0BF,SACpCS,MAAOD,EACPuC,SArDa,SAACjD,EAAcE,GACtCG,EAA6B,2BACxBD,GADuB,IAE1BJ,OACAE,SAAUA,GAAYE,EAA0BF,uBC5CvCN,a","file":"static/js/59.4aebcd29.chunk.js","sourcesContent":["import React, { useCallback, useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\n\nimport HeaderSkew from '@/components/HeaderSkew';\nimport NewBlock from '@/components/NewBlock';\nimport Pagination from '@/components/Pagination';\nimport NewsCarousel from '@/containers/NewsCarousel';\nimport { getHandbooksAction } from '@/redux/actions';\nimport { TParamsGetHandbooks } from '@/services/api/handbook-controller/types';\nimport { DEFAULT_PAGE, DEFAULT_PAGE_SIZE } from '@/common/constants';\nimport { TRootState } from '@/redux/reducers';\nimport { EHandbookControllerAction } from '@/redux/actions/handbook-controller/constants';\nimport PageLoading from '@/components/PageLoading';\nimport EmptyBox from '@/components/EmptyBox';\nimport { Paths } from '@/pages/routers';\n\nimport './Handbooks.scss';\nimport { scrollToTop } from '@/utils/functions';\nimport { ENewsCarouselType } from '@/containers/NewsCarousel/NewsCarousel.enums';\n\nconst Handbooks: React.FC = () => {\n  const dispatch = useDispatch();\n  const [getHandbooksParamsRequest, setGetHandbooksParamsRequest] = useState<TParamsGetHandbooks>({\n    page: DEFAULT_PAGE,\n    pageSize: DEFAULT_PAGE_SIZE,\n  });\n  const handbooks = useSelector((state: TRootState) => state.handbookReducer.handbooks);\n  const handbooksTotal = useSelector((state: TRootState) => state.handbookReducer.handbooks?.total);\n  const isEmpty = handbooks?.records?.length === 0;\n\n  const handbooksCarouselData = [...(handbooks?.records || [])]?.splice(0, 3)?.map((item) => ({\n    id: String(item.id),\n    title: item.title,\n    image: item.image,\n    description: item.description,\n    shareUrl: `${Paths.HandbookDetail(String(item.id))}`,\n  }));\n\n  const getHandbooksLoading = useSelector(\n    (state: TRootState) => state.loadingReducer[EHandbookControllerAction.GET_HANDBOOKS],\n  );\n\n  const handlePageChange = (page: number, pageSize?: number): void => {\n    setGetHandbooksParamsRequest({\n      ...getHandbooksParamsRequest,\n      page,\n      pageSize: pageSize || getHandbooksParamsRequest.pageSize,\n    });\n  };\n\n  const getHandbooksData = useCallback(() => {\n    dispatch(getHandbooksAction.request(getHandbooksParamsRequest));\n  }, [dispatch, getHandbooksParamsRequest]);\n\n  useEffect(() => {\n    getHandbooksData();\n  }, [getHandbooksData]);\n\n  useEffect(() => {\n    scrollToTop();\n  }, []);\n\n  return (\n    <div className=\"Handbooks\">\n      {getHandbooksLoading ? (\n        <PageLoading />\n      ) : (\n        <div className=\"Handbooks-wrapper\">\n          <HeaderSkew title=\"Cẩm nang\" />\n\n          {!isEmpty && <NewsCarousel type={ENewsCarouselType.HANDBOOKS} data={handbooksCarouselData} />}\n\n          <div className=\"Handbooks-title\">Cẩm nang</div>\n          {isEmpty ? (\n            <EmptyBox title=\"Không có dữ liệu cẩm nang\" />\n          ) : (\n            <div className=\"Handbooks-list flex flex-wrap\">\n              {handbooks?.records?.map((item) => (\n                <div key={item.id} className=\"Handbooks-list-item\">\n                  <NewBlock\n                    image={item.image}\n                    title={item.title}\n                    description={item.description}\n                    url={Paths.HandbookDetail(String(item.id))}\n                  />\n                </div>\n              ))}\n            </div>\n          )}\n\n          <div className=\"Handbooks-pagination flex justify-center\">\n            <Pagination\n              page={getHandbooksParamsRequest.page}\n              pageSize={getHandbooksParamsRequest.pageSize}\n              total={handbooksTotal}\n              onChange={handlePageChange}\n            />\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default Handbooks;\n","import Handbooks from './Handbooks';\n\nexport default Handbooks;\n"],"sourceRoot":""}
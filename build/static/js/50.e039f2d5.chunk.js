(this["webpackJsonpvietnam-supplements"]=this["webpackJsonpvietnam-supplements"]||[]).push([[50],{360:function(e,t,i){"use strict";i.r(t);var c=i(10),n=i(0),r=i(388),a=i(38),d=i(393),l=i(181),s=i(443),u=i(59),o=i(130),j=i(413),m=i(400),b=i(92),f=i(36),h=i(129),O=i(11),C=i(47),v=(i(476),i(1)),x=function(){var e=r.a.useForm(),t=Object(c.a)(e,1)[0],i=Object(a.b)(),x=Object(a.c)((function(e){return e.loadingReducer[f.a.GET_INFO]})),y=Object(a.c)((function(e){return e.loadingReducer[f.a.UPDATE_INFO]})),I=Object(a.c)((function(e){return e.authReducer.user})),p=Object(a.c)((function(e){return e.addressReducer})),N=Object(n.useState)(!0),g=Object(c.a)(N,2),k=g[0],S=g[1],q=Object(n.useState)({districtCode:null,cityCode:null}),E=Object(c.a)(q,2),w=E[0],D=E[1],P=0===p.city.length,F=0===p.district.length,T=null===I||void 0===I?void 0:I.city,M=T&&(null===I||void 0===I?void 0:I.district),V=function(){Object(u.l)(C.d.SUCCESS,"C\u1eadp nh\u1eadt th\xf4ng tin c\xe1 nh\xe2n th\xe0nh c\xf4ng")},H=function(e,i){e&&!i&&t.setFieldsValue({district:null}),D({cityCode:e||null,districtCode:i||null})},R=Object(n.useCallback)((function(){i(O.r.request(w))}),[i,w]);return Object(n.useEffect)((function(){k&&(!T&&!M||T&&!P&&!M&&F||T&&!P&&M&&!F)&&I&&(t.setFieldsValue({address:I.address,avatar:I.avatar,birthday:Object(u.c)(I.birthday),city:p.city.find((function(e){return e.value===I.city})),district:p.district.find((function(e){return e.value===I.district})),email:I.email,frontIdCard:I.frontIdCard?[I.frontIdCard]:void 0,backIdCard:I.backIdCard?[I.backIdCard]:void 0,fullName:I.fullName}),S(!1))}),[t,I,p,k]),Object(n.useEffect)((function(){k||R()}),[R]),Object(n.useEffect)((function(){i(O.r.request({cityCode:null,districtCode:null}))}),[]),Object(n.useEffect)((function(){T&&!P&&i(O.r.request({cityCode:w.cityCode||I.city,districtCode:null}))}),[I,P]),Object(n.useEffect)((function(){P||!M||F||i(O.r.request({cityCode:w.cityCode||I.city,districtCode:w.districtCode||I.district}))}),[I,P,F]),Object(n.useEffect)((function(){Object(u.j)()}),[]),Object(v.jsx)("div",{className:"ProfileInformation style-container",children:x?Object(v.jsx)(h.a,{}):Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(d.a,{title:"Th\xf4ng tin c\xe1 nh\xe2n"}),Object(v.jsx)("div",{className:"ProfileInformation-main",children:Object(v.jsxs)(r.a,{className:"ProfileInformation-main-form",form:t,onFinish:function(e){var t,c,n={fullName:e.fullName,avatar:e.avatar,address:e.address,city:e.city.value,district:e.district.value,backIdCard:null===(t=e.backIdCard)||void 0===t?void 0:t.join(""),frontIdCard:null===(c=e.frontIdCard)||void 0===c?void 0:c.join(""),birthday:e.birthday,email:e.email};i(O.nb.request(n,V))},children:[Object(v.jsx)(r.a.Item,{name:"avatar",style:{marginBottom:"3.2rem"},children:Object(v.jsx)(l.a,{})}),Object(v.jsx)(r.a.Item,{name:"fullName",rules:[u.m.required()],children:Object(v.jsx)(o.a,{placeholder:"T\xean c\u1ee7a b\u1ea1n"})}),Object(v.jsx)(r.a.Item,{name:"email",rules:[u.m.required(),u.m.email()],children:Object(v.jsx)(o.a,{placeholder:"Email"})}),Object(v.jsx)(r.a.Item,{name:"birthday",rules:[u.m.required()],children:Object(v.jsx)(j.a,{placeholder:"Sinh nh\u1eadt"})}),Object(v.jsxs)("div",{className:"ProfileInformation-main-form-row flex justify-between two flex-wrap",children:[Object(v.jsx)(r.a.Item,{name:"city",rules:[u.m.required()],children:Object(v.jsx)(m.a,{placeholder:"T\u1ec9nh / th\xe0nh ph\u1ed1",options:p.city,disabled:P,onChange:function(e){return H(null===e||void 0===e?void 0:e.value)}})}),Object(v.jsx)(r.a.Item,{name:"district",rules:[u.m.required()],children:Object(v.jsx)(m.a,{placeholder:"Qu\u1eadn / huy\u1ec7n",options:p.district,disabled:F,onChange:function(e){return H(w.cityCode,null===e||void 0===e?void 0:e.value)}})})]}),Object(v.jsx)(r.a.Item,{name:"address",rules:[u.m.required()],children:Object(v.jsx)(o.a,{placeholder:"\u0110\u1ecba ch\u1ec9 c\u1ee5 th\u1ec3"})}),Object(v.jsx)(r.a.Item,{name:"frontIdCard",rules:[u.m.required("Vui l\xf2ng t\u1ea3i \u1ea3nh m\u1eb7t tr\u01b0\u1edbc CMND - CCCD")],children:Object(v.jsx)(s.a,{label:"\u1ea2nh m\u1eb7t tr\u01b0\u1edbc CMND - CCCD",useSingle:!0})}),Object(v.jsx)(r.a.Item,{name:"backIdCard",rules:[u.m.required("Vui l\xf2ng t\u1ea3i \u1ea3nh m\u1eb7t sau CMND - CCCD")],children:Object(v.jsx)(s.a,{label:"\u1ea2nh m\u1eb7t sau CMND- CCCD",useSingle:!0})}),Object(v.jsx)("div",{className:"ProfileInformation-main-form-submit flex justify-center",children:Object(v.jsx)(b.a,{title:"Ch\u1ec9nh s\u1eeda",type:"primary",htmlType:"submit",loading:y})})]})})]})})};t.default=x},393:function(e,t,i){"use strict";i(0);var c=i(9),n=i.n(c),r=(i(394),i(1)),a=function(e){var t=e.className,i=e.center,c=e.title,a=e.onClick;return Object(r.jsx)("div",{className:n()("HeaderSkew flex",t,{"justify-center":i},{"cursor-pointer":a}),onClick:a,children:Object(r.jsxs)("div",{className:"HeaderSkew-item",children:[Object(r.jsx)("div",{className:"HeaderSkew-title",children:c}),Object(r.jsx)("div",{className:"HeaderSkew-subtitle",children:"VNSUPPLEMENTS"})]})})};t.a=a},394:function(e,t,i){},476:function(e,t,i){}}]);
//# sourceMappingURL=50.e039f2d5.chunk.js.map